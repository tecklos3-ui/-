<div class="card">
    <h2>إدارة المستخدمين</h2>

    <button class="btn" onclick="openAddUser()">➕ إضافة مستخدم</button>

    <div class="table" id="users-table">

        <div class="table-row header">
            <div>الاسم</div>
            <div>الدور</div>
        </div>

        <!-- المستخدمون -->
    </div>
</div>

<!-- نافذة إضافة المستخدم -->
<div class="popup" id="addUserPopup">
    <div class="popup-box">
        <h3>إضافة مستخدم</h3>

        <label>اسم المستخدم</label>
        <input type="text" id="newName" placeholder="اكتب الاسم">

        <label>الدور</label>
        <select id="newRole">
            <option value="مدير">مدير</option>
            <option value="موظف">موظف</option>
        </select>

        <div class="popup-actions">
            <button onclick="saveUser()">حفظ</button>
            <button class="cancel" onclick="closeAddUser()">إلغاء</button>
        </div>
    </div>
</div>

<script>
    let users = [
        { name: "أحمد", role: "مدير" },
        { name: "محمد", role: "موظف" }
    ];

    function renderUsers() {
        const table = document.getElementById("users-table");

        // اترك العنوان فقط
        table.innerHTML = `
    <div class="table-row header">
      <div>الاسم</div>
      <div>الدور</div>
    </div>
  `;

        users.forEach(u => {
            table.innerHTML += `
      <div class="table-row">
        <div>${u.name}</div>
        <div>${u.role}</div>
      </div>
    `;
        });
    }

    function openAddUser() {
        document.getElementById("addUserPopup").style.display = "flex";
    }

    function closeAddUser() {
        document.getElementById("addUserPopup").style.display = "none";
    }

    function saveUser() {
        const name = document.getElementById("newName").value.trim();
        const role = document.getElementById("newRole").value;

        if (name === "") {
            alert("اكتب الاسم أولاً");
            return;
        }

        users.push({ name, role });
        renderUsers();
        closeAddUser();

        document.getElementById("newName").value = "";
    }

    // أول تحميل
    renderUsers();
</script>
